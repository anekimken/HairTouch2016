function y = filter_1400HzBandstop(x)
%DESIGNEDFILTER7 Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 8.3 and the DSP System Toolbox 8.6.
% Generated on: 03-Oct-2016 17:02:15

%#codegen

% To generate C/C++ code from this function use the codegen command.
% Type 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    %
    % N     = 30;    % Order
    % F3dB1 = 1200;  % First
    % F3dB2 = 1600;  % Second
    % Fs    = 5000;  % Sampling Frequency
    %
    % h = fdesign.bandstop('n,f3db1,f3db2', N, F3dB1, F3dB2, Fs);
    %
    % Hd = design(h, 'butter', ...
    %     'SystemObject', true);
    
    Hd = dsp.BiquadFilter( ...
        'Structure', 'Direct form II', ...
        'SOSMatrix', [1 0.386918381623279 1 1 0.829549350016749 ...
        0.953189162485592; 1 0.386918381623279 1 1 -0.119827224774735 ...
        0.948515356209069; 1 0.386918381623279 1 1 0.776936476883533 ...
        0.866814784109456; 1 0.386918381623279 1 1 -0.0948940681020389 ...
        0.854670344995642; 1 0.386918381623279 1 1 0.714483018648078 ...
        0.79056353126651; 1 0.386918381623279 1 1 -0.0543230450114694 ...
        0.773832185115191; 1 0.386918381623279 1 1 -0.000388451751563323 ...
        0.706781775994378; 1 0.386918381623279 1 1 0.643712165684072 ...
        0.725049638215577; 1 0.386918381623279 1 1 0.56596432314566 ...
        0.671138815209844; 1 0.386918381623279 1 1 0.06492593576153 ...
        0.65427739174134; 1 0.386918381623279 1 1 0.482723350845652 ...
        0.630002705405921; 1 0.386918381623279 1 1 0.139635797931558 ...
        0.617122274594596; 1 0.386918381623279 1 1 0.395885417188406 ...
        0.603000267343342; 1 0.386918381623279 1 1 0.221493217481311 ...
        0.596036660527039; 1 0.386918381623279 1 1 0.307870637320719 ...
        0.591398351399471], ...
        'ScaleValues', [0.945079740646886; 0.945079740646886; ...
        0.903652503993212; 0.903652503993212; 0.869505984861935; ...
        0.869505984861935; 0.842292043885096; 0.842292043885096; ...
        0.821616317906147; 0.821616317906147; 0.80712352211176; ...
        0.80712352211176; 0.798540944840728; 0.798540944840728; ...
        0.795699175699736; 1]);
end

y = step(Hd,x);


